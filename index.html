<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            //Create function computerPlay() which randomly returns 'Rock','Paper' or 'Scissors'
            function computerPlay() {
                let items = ['Rock', 'Paper', 'Scissors'];
                let choice = Math.floor(Math.random() * items.length);
                return items[choice];
            }

            //Create function playRound() that plays a single round of Rock Paper Scissors
            //--Takes two parameters: playerSelection, computerSelection
            //--Returns a string that declares the winner of the round
            //--Function should be case insensitive
            function playRound(playerSelection, computerSelection) {
                playerSelection = playerSelection.toLowerCase();
                let plsplit = playerSelection.split("");
                plsplit[0] = plsplit[0].toUpperCase();
                playerSelection = plsplit.join("");

                let result;

                if (playerSelection === computerSelection) {
                    result = "It's a tie";
                }
                else if (playerSelection === 'Rock') {
                    if (computerSelection === 'Paper') {
                    result = "You lose. Paper beats Rock!";
                    }
                    else if (computerSelection === 'Scissors') {
                    result = "You win. Rock beats Scissors!";
                    } 
                }
                else if (playerSelection === 'Paper') {
                    if (computerSelection === 'Scissors') {
                        result = "You lose. Scissors beats Paper!";
                    }
                    else if (computerSelection === 'Rock') {
                        result = "You win. Paper beats Rock!";
                    }
                } 
                else if (playerSelection === 'Scissors') {
                    if (computerSelection === 'Rock') {
                        result = "You lose. Rock beats Scissors!";
                    }
                    else if (computerSelection === 'Paper') {
                        result = "You win. Scissors beats Paper!";
                    }
                }
   
                return result;
            }

            //Create function game() that plays a 5 round game, keeps score & reports a winner or loser at the end
            //--Use playRound() here
            //--Use console.log() to display the results of each round & winner at the end
            //--Use prompt() to get input from user
            function game() {
                let playerScore = 0,
                    computerScore = 0;

                for (let i = 0; i < 5; i++) {
                    let playerSelection = prompt("Throw!");
                    let computerSelection = computerPlay();
                    let result = playRound(playerSelection, computerSelection);

                    if (result.search("win") > 0) {
                        playerScore += 1;
                    }
                    else if (result.search("lose") > 0) {
                        computerScore += 1;
                    }

                    console.log(result);
                    console.log(`Player: ${playerScore} Computer: ${computerScore}`);
                }

                if (playerScore > computerScore) {
                    console.log("You won!");
                }
                else if (computerScore > playerScore) {
                    console.log("You lost!");
                }
                else {
                    console.log("It's a tie!");
                }
            }

            game();
        </script>
    </body>
</html>